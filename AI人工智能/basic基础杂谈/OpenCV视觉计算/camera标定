1.为什么需要'摄像头标定'?
答:
	真实世界是3D的, 但相机实际上是2D;

	由于摄像机本身机械设计具有一定误差( 0 I 0 )
	摄像机本身的构造是有3 块镜片, 组成摄像机理论上的小孔, 
	然后再将投影映射到感光材料上面, 所以必然会存在一定误差范围.
	标定就是通过一系列的计算方法来解决这些误差, 提高计算精度;

	而且由于摄像头出厂的时候, 机器生成的镜头不一定100% 准确, 
	所以, 一般摄像设备, 使用前, 都会自带一个标定程序的, 
	如果是相机, 监控摄像头, 标定程序一般会在驱动程序中自带,
	如果是用作人工智能(自动驾驶, 无人机等), 般是自己再次实现标定程序, 重复校验, 提高准确率;





2.'摄像头标定'原理:
	'摄像头标定'实际上是依赖真实世界里面的尺量标定, 
	通过真实世界里面的尺量大小, 屏蔽相机镜头自身的物理畸形, 相对性的, 提高画面的准确率;

	方法:
		把摄像头, 对准黑白方格的矩阵照片, 
		然后校验方格的线是否公整, 垂直, 100% 正方形;
		(拍摄照片的时候, 注意要扶稳相机, 可以从多角度进行拍摄, 但不能拍摄模糊的照片, 否则影响准确率)

		最后, 通过还原拍摄到的照片(还原为正方形黑白方格), 
		最终得到一个误差值, 这个误差值, 就是相机变异的纠正值, 也是标定的成果产出;

	标定的时候, 真实世界里面的尺量大小的准确性, 对标定本身并不影响, 
	关键是: 
		打印的黑白方格, 线要直, 大小要一样, 
		至于每一个正方形的边长是否多少, 可大可小, 最好还是大一点比较好
		(否则相机分辨率不高的情况下, 会看不清楚, 导致标定得出的纠正值, 不正确)

		比如说现在照片上面的方格是5*5 cm, 那么无论你拉远还是拉近, 比较值都应该是相对的,
		1 米, 2 米, 3 米, 4 米, 5 米里面的方格, 在照片中的大小都是不一样的,

	两个误差:
		1.真实世界里面的黑白格子的线的垂直, 不弯曲;
		2.真实世界里面的黑白格子的边长一致, 不会出现一大一小的情况;





3.不同的摄像头, 标定方法不一样:
	* 普通2d 相机(普通镜头)
	* 3d 标定是要在2d 标定的基础上实现的, 而且3d 标定需要双目摄像头;
	* 鱼眼镜头相机(广角度镜头)
	* 望远镜镜头(视野广)
	...

	不同摄像头, 标定方法都不一定, 参照物都不一样;
	望远镜摄像头, 你可能需要搞几个1米边长的方格, 黑白间隔;

	最终输出的标定参数, 也是根据相机厂家, 和opencv 软件, 联合得出的一个固定参数
	(这些正畸参数, 都是大同小异的, 不用担心)

	opencv 标定程序编译选项:
		-lopencv_features2d

	opencv 标定程序输出demo:
		./calibration2 -w 6 -h 9 test.xml
	ps:
		test.xml 就是标定得出的正畸参数;





/////////////////////////////////////////////////////////////////////////////////////////////////////



1.摄像机原理简介:

中文名: 摄像机标定
外文名: camera calibration
用途: 帮助还原空间物体 常用方法 张正友标定方法
<< 需要了解标定, 看图: camera_calibration4.jpg >>

<< 曲面摄像头, 可以看到更广度的角, 也是通过标定来解决视觉扭曲的问题的, 
	 要看曲面摄像头, 你可以看看camera_calibration_great.jpg >>

<< fisheye camera 广角摄像头, 通过一个曲面来增加视觉, 都是通过: 标定来实现还原的, 
	 但是还是会有一定的误差, 中间拉伸, 两边压缩, 不清晰.. 但是可以通过标定, 极大限度的纠正 >>



2.摄像机原理(理想摄像机):

2.1: 建筑行业的三脚尺测量案例:
		 要测量一栋大厦的高度, 通常只需要一把三脚尺就可以了, 原理如下:
		 已知条件: 三脚尺的高度, 三脚尺的仰角(对准楼顶, 就可以测出仰角), 
							三脚尺到大楼的距离(这里面要跟仰角对准的顶点垂直的点的距离)
		 未知条件: 塔高
		 解: 塔高 = 三脚尺高度 + 三脚尺到大楼的距离 * tanx(x=仰角)

		 ***类似的, 相机成像, 也可以利用类似的原理, 求出相机中的相对距离.***

2.2:单目相机还原空间的原理(理想摄像机):
		 类似的, 形如2.1 的测量原理, 单目相机也可以做类似的估算:
		 由于光线是直线传播的, 真实物体投影到感光器材上面成像(2D 平面),
		 实际上, 投影出来的2D 平面是可以测出照片中的相对距离和景深的(前提是摄像机足够高像素)
		 单目摄像机唯一解决不了的问题是: 
		 单目摄像机测出来的距离和景深, 都是相对的, 你没办法判断获取的信息是来自景物,
		 或者是一张逼真的风景图贴在镜头前, 也就是相机距离物体的实际距离, 是没有办法获知的,
		 (这一点人也差不多, 不过人可以估算, 照片上就不能估算了, 得有一个参考物) 
			只要有一个参照物, 就可以锁定最后一个未知量, 就可以测出相机跟物体的实际距离,
		 从而推断出所拍摄到的照片的实际3D 画面

2.3: 双目摄像机还原空间的原理(理想摄像机):
		 单个相机测不出相机跟物体的实际距离, 但是双目测相机可以做到.
		 由于让两个相机平行, 并且测出两个相机的距离, 也是轻而易举的事.
		 那么就有: 当a,b 摄像机注视着同一个点C 的情况下, 由于投影关系,
		 我们可以求出角cab 和角cba, 然后ab 的距离也知道, 两个角一条边,
		 我们就可以求这个三角形的高D = 平行摄像机组跟物体的实际距离,
		 再结合景深, 景的相对距离, 我们就可以推算出我们看到的画面的整个3D 环境.

		 虽然这涉及很多东西, 但是大致原理就是这样.

		 你要处理的是: 在两张图片中选取某一个点, 要做到的是: A,B 拍出一张同步照片,
								 你可以需要准确的机器时钟, 来知道相机同时工作, 得到图像之后, 还要算出来.

		 由于摄像头之间的距离只有十几厘米, 几公分, 而推算的距离, 确有几米(双目摄像机的视野有几米)
		 所以这样会导致推算的精度, 很大程度上依赖: 摄像头的像素, 还有摄像头之间的距离
		 这些因素都是得考虑的
	 
		 远景摄像头, 近景摄像头, 也是根据'摄像机小孔'跟投影面的距离, 来确定的.
		 小孔跟投影面近, 就是称之为: 近焦摄像头. 反之, 小孔跟投影面远, 就是: 远焦摄像头.
		 近焦摄像头, 就是视力关注近焦点的摄像头.
		 远焦摄像头, 就是视力关注远焦点的摄像头.

		 << 但是实际上, 这种变焦相机是不可能实现的, 相机变焦的时候, 误差就更大了, 又要重新标定>>

2.4: 3D 识别和3D 动画视觉,3D 影视视觉, 
	都是通过二维图片来推算出空间物体的三维分布, 或者, 反过来
	3D 动画视觉,3D 影视视觉等, 都是将3D 数据二维导出.

	3D 打印技术, 3D 建模.倒是纯3D 设计, 并不是3D 向2D 转换or 2D 向3D 转换.
	因为现在的摄像头还是2D 的, 真正像电影里面, 一个立体摄像头射出很多射线扫描物体,
	获得真实的立体3D 图, 这样的设备目前还未问世

2.5:张正友的平面标定方法是: 介于传统标定方法和自标定方法之间的一种方法. 
		它既避免了传统方法设备要求高, 操作繁琐等缺点, 又较自标定方法精度高, 符合办公、家庭使用的桌面视觉系统(DVS)的标定要求. 
		此方法是需要确定模板上点阵的物理坐标以及图像和模板之间的点的匹配, 这给不熟悉计算机视觉的使用者带来了不便. 







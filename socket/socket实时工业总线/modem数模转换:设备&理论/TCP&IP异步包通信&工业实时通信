#
# 1.工业实时通信协议, 与tcp/ip 异步包通讯协议的区别
#
工业实时通信协议, 因为考虑到数据量不大, 还有实时要求比较高,
仍然摆脱不了8bit一帧数据的原则(每次只发8bit数据+一个ack,很多工业实时通信协议都是这样的),

anyway, 参考i^2c的实验原理, 参考无线电发射信号的'+-三角函数'图片, 得出下面的结论:
计算机通信的数模转换, 基本上大大小小, 本质上只有两种:
	带时钟线的工业实时通信
	不带时钟线的互联网'异步包'通信


通信协议还有几个特性和共同点:
	共同点:
		载波帧听(无论工业实时网络, 还是tcp/ip异步包网络, 有线的基本都是载波帧听的, 
						无线的也肯定是帧听的, 不过可能数据传输, 会采用问答形式)

	不同点:
		多路访问, 
		冲突检测(碰撞检测), 
		全双工/半双工(tcp/ip 需要4条线).

	高级特性, 一般都是tcp/ip 协议才会有;
	低级特性, 一般都是工业实时网络才会有.








#
# 2.详解'带时钟线的工业实时通信':
#
i^2c:
	i^2c 是'8bit 总线型'传输的工业实时通信协议, 
	同样是也载波帧听, 但没有冲突检测, 
	所以只适合主芯片, 命令从芯片工作, 从芯片不能回传, 更不能数据乱弹!!
	否则, 时钟序列会乱的, 数据会被扰乱.

	信号过程如下(主芯片, 单向发信号给从芯片, 半双工通信协议):
		<起始信号>, <7bit地址信息+1bit读写标志><ack>, <8bitDATA><ack>,,, <终止信号>

	i^2c 也是需要检测冲突的(严重不推荐!!否则要自己实现i^2c冲突检测,还不如直接换通信协议!!):
		8051 单片机, 可以检测p1 io 引脚/针脚的状态.
		只是8051 单片机, 每次读取p1 io 引脚/针脚的状态, 
		是8bit 8个针脚一组, 你要做位运算, 才能判断出具体某个io 针脚的状态.

		anyway, 你在操作i^2c 的时候, 必须判断一下SCL 时钟信号线, 是否是高电平!!
		而且需要判断循环一阵子, 可能要判断几次.
		确定没有干扰信号的时候, 你才能发数据.



	其它的工业通信协议, 无论是所谓的串口, 并口,
	只要是工业实时通信协议, 带时钟线的通信协议, 原理都是一样的.
	这种带时钟线的通信协议, 利用始终线来判断: 是否有'发送/接收'数据的io事件, 实时效率很高.
	只要时钟线发生变化, 其它芯片/主机, 马上知道有数据'发送/接收', 
	这样一来, 实时效率基本上就是1ms 以内.
	时钟线电平位一旦发生变化(或高或低, 全看协议怎么写), 
	数据就开始冲过来, 接收的数据, 也是一般8bit, 16bit, 32bit, 64bit 的简单数据.
	这样的操作, 数据从发送, 到接收, 都可以控制在1ms 以内.
		tcp/ip 包传输协议, 以目前的技术, 局域网内都可以做到1ms 以内,
		更何况这种级别的实时协议, 实时性更高!
		甚至可能是十几个纳秒, 就接收完毕了.

	缺点:
		数据量太少, 如果是单线穿行, 比如说i^2c, 要一位一位, 从一条线中将信号打出去, 效率很低.
		所以也有9线/25线的RS-232, RS-485 等等的拓展协议,
		同样也是8bit 数据传输, 但是实时性更高, 数据量更大, 
		发送/接收数据时, 有波特率(影响数据量大小, 不影响实时效率):
			1200bps,2400bps,4800bps,9600bps,19200bps,38400bps,125K...








#
# 3.详解'不带时钟线的tcp/ip协议簇':
#
只要是tcp/ip协议簇, 基本上都是异步包传输协议, 不用怀疑, 没有时钟线的.
tcp/ip 协议簇, 也有很多工业剪裁协议, 都是在udp 的基础上进行剪裁, 才进的.

由于tcp/ip 协议簇, 是一个由路由器做主芯片, 进行调控的包传输网络.
要改进整个局域网的网络性能, 实时性, 安全性, 都离不开路由器!!
因此, 需要对路由器, 还有旗下的网卡, 进行改进.
	以提高实时性为目标, 则有:
		削减tcp 协议, 保留ip 协议, 
		采用udp 进行简单数据完整性校验即可.

	一般情况下, 你都不需要对tcp/ip 协议进行剪裁.
	你只需要开启内核的tcp/ip 特殊协议栈, 
	启用部分特殊的实时性工业剪裁版本, 例如NTP,sctp 等特殊tcp/ip 剪裁版本,
	来提高实时性, 安全性.
	tcp/ip 协议栈已经集成了, 你基本上用就行了.



关于家用电话, 拨号上网的原理:
	由于电话线只有两条线, 不能组建rj45, 
	所以不能直接数字化信号传输, 必须使用一个转换modem(电猫)

	具体也是一条线接收, 一条线发送, 全双工网络.
	发送/接收数据时, 有波特率(影响数据量大小, 不影响实时效率):
		1200bps,2400bps,4800bps,9600bps,19200bps,38400bps,125K...
	其实modem 电猫, 就是电信号数模转换器.
	电话线是模拟信号线, 发送的都是模拟信号.


	rj45 则是数字线路, +- 一条线, 抛数据包, 
	所以需要4条线, 并且不需要modem 电猫,光猫.




